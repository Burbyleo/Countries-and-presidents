DROP TABLE IF EXISTS T_COUNTRY CASCADE;
DROP TABLE IF EXISTS T_PERSON CASCADE;
DROP TABLE IF EXISTS T_PERSON_COUNTRY CASCADE;
DROP TABLE IF EXISTS T_PRESIDENT CASCADE;

CREATE TABLE T_COUNTRY
(
    ID          INTEGER NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    NAME        VARCHAR(50) UNIQUE NOT NULL
);

CREATE TABLE T_PERSON
(
    ID          INTEGER NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    NAME        VARCHAR(50) NOT NULL,
    SURNAME     VARCHAR(50) NOT NULL
);

CREATE TABLE T_PERSON_COUNTRY
(
    PERSON_ID   INTEGER REFERENCES T_PERSON(ID),
    COUNTRY_ID  INTEGER REFERENCES T_COUNTRY(ID),

    PRIMARY KEY (PERSON_ID, COUNTRY_ID)
);

CREATE TABLE T_PRESIDENT
(
    ID          INTEGER NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    NAME        VARCHAR(50) NOT NULL,
    SURNAME     VARCHAR(50) NOT NULL,
    COUNTRY_ID  INTEGER REFERENCES T_COUNTRY(ID) ON DELETE CASCADE,
    SERIAL_CNT  INTEGER NOT NULL
);